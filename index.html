<!DOCTYPE html>
<html lang="en" class="bg-black">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="/my-project/image/logosite.png"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Écomail</title>
  </head>

  <body>
    <div class="flex">
      <div class="hidden h-screen p-4 sm:flex">
        <ul
          class="menu rounded-box menu-compact w-56 bg-secondary p-2 lg:menu-normal"
        >
          <li>
            <a class="active text-white hover:active" href="index.html">Calcul Dépenses</a>
          </li>
          <li><a class="text-white hover:active" href="budget.html">Budget</a></li>
        </ul>
      </div>
      <div>
        <div id="titre" class="mt-6 ml-5"><p class="uppercase text-white font-semibold text-xl">calcul tes dépenses avec nous</p></div>
      <div
      id="depensee"  
      class="rounded-box ml-4 mt-6 h-44 w-72 flex-col bg-secondary text-white shadow"
      >
      
        <div
          class="stats mt-1 flex w-72 justify-center justify-items-center bg-secondary"
        >
          <div class="stat">
            <div class="stat-title mb-7 flex justify-center text-white">
              Budget
            </div>
            <input
              type="number"
              id="n0"
              placeholder="salaire du mois"
              class="input-ghost input ml-2 w-full max-w-xs justify-center text-white"
            />
          </div>
        </div>
        <div class="mt-16 mb-8 flex">
          <h1 class="ml-4 text-gray-500 underline">insert tes dépenses</h1>
        </div>
        <div class="rounded-box">
          <div class="mt-4 mb-12">
            <input
              oninput="changeLoy(this)"
              type="number"
              value=""
              id="n1"
              placeholder="loyer (logement)"
              class="input-ghost input w-full max-w-xs text-white"
            />
          </div>
          <div class="mt-6 mb-12">
            <input
              oninput="changeTra(this)"
              type="number"
              value=""
              id="n2"
              placeholder="Transport"
              class="input-ghost input w-full max-w-xs text-white"
            />
          </div>
          <div class="mt-6 mb-12">
            <input
              oninput="changeAss(this)"
              type="number"
              value=""
              id="n3"
              placeholder="Assurances"
              class="input-ghost input w-full max-w-xs text-white"
            />
          </div>

          <div class="mt-6 mb-12">
            <input
              oninput="changeAlim(this)"
              type="number"
              id="n4"
              placeholder="Alimentation"
              class="input-ghost input w-full max-w-xs text-white"
            />
          </div>
          <div class="mt-6 mb-12">
            <input
              oninput="changeVet(this)"
              type="number"
              id="n5"
              placeholder="Vêtement"
              class="input-ghost input w-full max-w-xs text-white"
            />
          </div>
          <div class="mt-6 mb-12">
            <input
              oninput="changeImp(this)"
              type="number"
              id="n6"
              placeholder="Impots"
              class="input-ghost input w-full max-w-xs text-white"
            />
          </div>
        </div>
      </div>
</div>
      <div class="flex-col hidden ml-36" id="resultat">
      <div class="ml-72 flex pr-4">
        <div
          class="stats mt-6 h-44 justify-end justify-items-end bg-secondary text-white shadow"
        >
          <div class="stat mt-1 h-5 justify-items-center">
            <div class="stat-title mb-7 text-white">Économie</div>
            <input
              oninput="calc()"
              type="number"
              id="eco"
              placeholder="Économie"
              class="input-ghost input flex w-full max-w-xs text-black"
              disabled
            />
          </div>
        </div>
        <div class="stats mt-6 ml-4 h-44 bg-secondary text-white shadow">
          <div class="stat mt-1 h-5 justify-items-center">
            <div class="stat-title mb-7 text-white">Dépenses</div>
            <input
              oninput="calc()"
              type="number"
              id="result"
              placeholder="Dépenses"
              class="input-ghost input flex w-full max-w-xs text-black"
              disabled
            />
          </div>
        </div>
      </div>
      <div class="mt-72 ml-40 flex w-10/12">
        <canvas id="myChart" width="800" height="290"></canvas>
      </div>
    </div>
    <div id="btn" class="ml-96 mb-5 flex place-items-end">
      <button class="btn bg-primary text-white" id="mybtn">calculer</button>
    </div>

    <script>
      
      var mybtn = document.getElementById("mybtn");

function afficher() {
  document.getElementById("titre").style.display = "none";
  document.getElementById("btn").style.display = "none";
  document.getElementById("depensee").style.display = "none";
  document.getElementById("resultat").style.display = "block";
  document.getElementById("LesInputs").style.display = "none";
  
}

mybtn.addEventListener("click", afficher);
    </script>

    <script>
      function calc() {
        var n0 = parseInt(document.getElementById("n0").value);
        var n1 = parseInt(document.getElementById("n1").value);
        var n2 = parseInt(document.getElementById("n2").value);
        var n3 = parseInt(document.getElementById("n3").value);
        var n4 = parseInt(document.getElementById("n4").value);
        var n5 = parseInt(document.getElementById("n5").value);
        var n6 = parseInt(document.getElementById("n6").value);

        if (isNaN(n1)) n1 = 0;
        if (isNaN(n2)) n2 = 0;
        if (isNaN(n3)) n3 = 0;
        if (isNaN(n4)) n4 = 0;
        if (isNaN(n5)) n5 = 0;
        if (isNaN(n6)) n6 = 0;

        var result = n1 + n2 + n3 + n4 + n5 + n6;
        var result2 = n0 - [n1 + n2 + n3 + n4 + n5 + n6];
        document.getElementById("result").value = result.toString();
        document.getElementById("eco").value = result2.toString();
      }

      var inputs = document.querySelectorAll("input[type='number']");
      inputs.forEach(function (input) {
        input.addEventListener("input", calc);
      });
    </script>

    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"
    ></script>

    <script>
      // setup
      const data = {
        labels: [
          "loyer",
          "transport",
          "assurances",
          "alimentation",
          "vêtement",
          "impots",
        ],
        datasets: [
          {
            label: "",
            data: [],
            backgroundColor: [
              "rgba(255, 26, 104, 0.2)",
              "rgba(54, 162, 235, 0.2)",
              "rgba(255, 206, 86, 0.2)",
              "rgba(75, 192, 192, 0.2)",
              "rgba(153, 102, 255, 0.2)",
              "rgba(255, 159, 64, 0.2)",
              "rgba(0, 0, 0, 0.2)",
            ],
            borderColor: [
              "rgba(255, 26, 104, 1)",
              "rgba(54, 162, 235, 1)",
              "rgba(255, 206, 86, 1)",
              "rgba(75, 192, 192, 1)",
              "rgba(153, 102, 255, 1)",
              "rgba(255, 159, 64, 1)",
              "rgba(0, 0, 0, 1)",
            ],
            borderWidth: 1,
          },
        ],
      };

      // config
      const config = {
        type: "bar",
        data,
        options: {
          maintainAspectRatio: false,
          responsive: false,
          scales: {
            y: {
              suggestedMax: 1200,
              beginAtZero: true,
            },
          },
          legend: {
            display: null, // Enlever la légende
          },
        },
      };

      // render init block
      const myChart = new Chart(document.getElementById("myChart"), config);

      // Instantly assign Chart.js version
      function changeLoy(input) {
        var n1 = parseInt(input.value);
        myChart.config.data.datasets[0].data[0] = n1;
        myChart.update();
      }

      function changeTra(input) {
        var n2 = parseInt(input.value);
        myChart.config.data.datasets[0].data[1] = n2;
        myChart.update();
      }

      function changeAss(input) {
        var n3 = parseInt(input.value);
        myChart.config.data.datasets[0].data[2] = n3;
        myChart.update();
      }

      function changeAlim(input) {
        var n4 = parseInt(input.value);
        myChart.config.data.datasets[0].data[3] = n4;
        myChart.update();
      }

      function changeVet(input) {
        var n5 = parseInt(input.value);
        myChart.config.data.datasets[0].data[4] = n5;
        myChart.update();
      }

      function changeImp(input) {
        var n6 = parseInt(input.value);
        myChart.config.data.datasets[0].data[5] = n6;
        myChart.update();
      }
    </script>

    <script type="module" src="/main.js"></script>
  </body>
</html>
